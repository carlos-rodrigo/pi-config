<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Review Hub</title>
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="/visual-styles">
</head>
<body>
  <!-- Top Bar -->
  <header class="top-bar">
    <div class="top-bar-left">
      <h1 class="top-bar-title">Review Hub</h1>
      <span class="document-name" id="document-name"></span>
      <span class="lang-badge" id="lang-badge"></span>
    </div>
    <div class="top-bar-right">
      <button class="btn btn-done" id="btn-done">Done Reviewing</button>
    </div>
  </header>

  <!-- Main Layout -->
  <div class="main-layout">
    <!-- Content Area -->
    <main class="content-area">
      <!-- Podcast Player Zone -->
      <section class="player-zone" id="player-zone" style="display: none;">
        <div class="player-header">
          <span class="player-icon">üéôÔ∏è</span>
          <span class="player-section-label" id="player-section-label">‚Äî</span>
          <label class="sync-toggle">
            <input type="checkbox" id="sync-toggle"> Sync visual to audio
          </label>
        </div>
        <div id="waveform" class="waveform-container"></div>
        <div class="player-controls">
          <button class="player-btn" id="btn-skip-back" title="Back 10s">‚è™</button>
          <button class="player-btn player-btn-play" id="btn-play" title="Play/Pause">‚ñ∂</button>
          <button class="player-btn" id="btn-skip-fwd" title="Forward 10s">‚è©</button>
          <span class="player-time" id="player-time">0:00 / 0:00</span>
          <div class="player-speed">
            <button class="speed-btn" data-speed="1">1x</button>
            <button class="speed-btn active" data-speed="1.25">1.25x</button>
            <button class="speed-btn" data-speed="1.5">1.5x</button>
            <button class="speed-btn" data-speed="2">2x</button>
          </div>
        </div>
      </section>

      <!-- Visual Presentation Zone (populated in task 005) -->
      <section class="visual-zone" id="visual-zone">
        <div class="visual-placeholder">
          <p>Visual presentation will appear here.</p>
        </div>
      </section>
    </main>

    <!-- Comment Panel -->
    <aside class="comment-panel" id="comment-panel">
      <div class="comment-panel-header">
        <h2 class="comment-panel-title">
          Comments <span class="comment-count" id="comment-count">(0)</span>
        </h2>
        <button class="btn btn-add-comment" id="btn-add-comment">+ Add Comment</button>
      </div>

      <!-- Filter Bar -->
      <div class="comment-filters" id="comment-filters">
        <button class="filter-btn active" data-filter="all">All</button>
        <button class="filter-btn" data-filter="change">üîÑ Change</button>
        <button class="filter-btn" data-filter="question">‚ùì Question</button>
        <button class="filter-btn" data-filter="approval">‚úÖ Approval</button>
        <button class="filter-btn" data-filter="concern">‚ö†Ô∏è Concern</button>
      </div>

      <!-- Comment Form (hidden by default) -->
      <div class="comment-form" id="comment-form" style="display: none;">
        <div class="form-group">
          <label for="form-section">Section</label>
          <select id="form-section" class="form-select"></select>
        </div>
        <div class="form-group">
          <label>Type</label>
          <div class="type-selector" id="form-type">
            <label class="type-option">
              <input type="radio" name="comment-type" value="change" checked>
              <span class="type-label type-change">üîÑ Change</span>
            </label>
            <label class="type-option">
              <input type="radio" name="comment-type" value="question">
              <span class="type-label type-question">‚ùì Question</span>
            </label>
            <label class="type-option">
              <input type="radio" name="comment-type" value="approval">
              <span class="type-label type-approval">‚úÖ Approval</span>
            </label>
            <label class="type-option">
              <input type="radio" name="comment-type" value="concern">
              <span class="type-label type-concern">‚ö†Ô∏è Concern</span>
            </label>
          </div>
        </div>
        <div class="form-group">
          <label>Priority</label>
          <div class="priority-selector" id="form-priority">
            <label class="priority-option">
              <input type="radio" name="comment-priority" value="high">
              <span class="priority-label priority-high">High</span>
            </label>
            <label class="priority-option">
              <input type="radio" name="comment-priority" value="medium" checked>
              <span class="priority-label priority-medium">Medium</span>
            </label>
            <label class="priority-option">
              <input type="radio" name="comment-priority" value="low">
              <span class="priority-label priority-low">Low</span>
            </label>
          </div>
        </div>
        <div class="form-group">
          <label for="form-text">Comment</label>
          <textarea id="form-text" class="form-textarea" rows="3" placeholder="Your feedback..."></textarea>
        </div>
        <div class="form-actions">
          <button class="btn btn-save" id="btn-save-comment">Save</button>
          <button class="btn btn-cancel" id="btn-cancel-comment">Cancel</button>
        </div>
      </div>

      <!-- Comment List -->
      <div class="comment-list" id="comment-list"></div>
    </aside>
  </div>

  <!-- Bottom Bar -->
  <footer class="bottom-bar">
    <span class="current-section" id="current-section">Ready</span>
  </footer>

  <!-- Completion Overlay -->
  <div class="completion-overlay" id="completion-overlay" style="display: none;">
    <div class="completion-card">
      <h2>‚úÖ Review Complete</h2>
      <div class="completion-summary" id="completion-summary"></div>
      <p class="completion-hint">Return to your terminal to apply the review.</p>
    </div>
  </div>

  <script src="/wavesurfer.js"></script>
  <script src="/app.js"></script>
</body>
</html>
